<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><title>Documenter.jl</title><link href="../style.css" rel="stylesheet" type="text/css"/><link href="../highlight.css" rel="stylesheet" type="text/css"/><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script><script src="../mathjaxhelper.js"></script></head><body><nav class="toc"><a href="http://julialang.org/"><img class="logo" src="http://docs.julialang.org/en/release-0.4/_static/julia-logo.svg" alt="SomePackage.jl (TODO) logo"/></a><h1>SomePackage.jl (TODO)</h1><ul><li><a href="../index.html">index.md</a></li><li>Manual<ul><li><a href="guide.html">man/guide.md</a></li><li><a href="examples.html">man/examples.md</a></li><li><a href="syntax.html">man/syntax.md</a></li><li><a href="doctests.html">man/doctests.md</a></li><li><a href="hosting.html">man/hosting.md</a></li><li><a href="latex.html">man/latex.md</a></li><li><a href="internals.html">man/internals.md</a></li></ul></li><li>Library<ul><li><a href="../lib/public.html">lib/public.md</a></li><li><a href="../lib/internals.html">lib/internals.md</a></li></ul></li><li>Dynamic pages<ul><li><a href="../dynamic/code.html">dynamic/code.md</a></li></ul></li></ul></nav><article><header>Header stuff<nav>You&#39;d like some nav?<div>GitHub link maybe?</div></nav><hr/></header><a id="Hosting-Documentation-1"></a><div class="mdnote debug">Base.Markdown.Header{1}</div><h1>Hosting Documentation</h1><div class="mdnote debug">Base.Markdown.Paragraph</div><p>After going through the <a href="guide.html#Package-Guide-1">Package Guide</a> and <a href="doctests.html#Doctests-1">Doctests</a> page you will need to host the generated documentation somewhere for potential users to read. This guide will describe how to setup automatic updates for your package docs using the Travis build service and GitHub Pages. This is the same approach used by this package to host it&#39;s own docs – the docs you&#39;re currently reading.</p><div class="mdnote debug">Base.Markdown.Admonition</div><div class="admonition note"><p class="admonition-title">Note</p><p>Following this guide should be the <em>final</em> step you take after you are comfortable with the syntax and build process used by <code class="asdf">Documenter.jl</code>. Only proceed with the steps outlined on this page once you have successfully used <code class="asdf">mkdocs</code> locally to build your documentation.  <code class="asdf">mkdocs</code> can typically be installed using <code class="asdf">pip install mkdocs</code> in your terminal.</p><p>This guide assumes that you already have GitHub and Travis accounts setup. If not then go set those up first and then return here.</p></div><a id="Overview-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2>Overview</h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Once setup correctly the following will happen each time you push new updates to your package repository:</p><div class="mdnote debug">Base.Markdown.List</div><ul><li>travis buildbots startup and run your tests;</li><li>each buildbot will build the package docs using your <code class="asdf">docs/make.jl</code> script;</li><li>a single buildbot will then try to push the generated docs back the github.</li></ul><div class="mdnote debug">Base.Markdown.Paragraph</div><p>The following sections outline how to enable this for your own package.</p><a id="Deploy-Keys-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2>Deploy Keys</h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Two methods are available for securely deploying generated documentation from Travis to GitHub. The first method listed below is the preferred approach. The second, and original, method should be avoided whenever possible.</p><a id="SSH-Deploy-Keys-1"></a><div class="mdnote debug">Base.Markdown.Header{3}</div><h3>SSH Deploy Keys</h3><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Deploy keys provide push access to a <em>single</em> repository.</p><div class="mdnote debug">Base.Markdown.Admonition</div><div class="admonition note"><p class="admonition-title">Note</p><p>You will need several command line programs installed for the following steps to work. They are <code class="asdf">which</code>, <code class="asdf">git</code>, <code class="asdf">ssh-keygen</code>, and <a href="https://github.com/travis-ci/travis.rb"><code class="asdf">travis</code></a>.  Make sure these are installed before you begin.</p></div><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Open a Julia REPL and import <a href="../lib/public.html#Documenter"><code class="asdf">Documenter</code></a>.</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="language-none">julia&gt; using Documenter</code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Then call the <a href="../lib/public.html#Documenter.Travis.genkeys"><code class="asdf">Travis.genkeys</code></a> function as follows:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="language-none">julia&gt; Travis.genkeys(&quot;MyPackage&quot;)</code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>where <code class="asdf">&quot;MyPackage&quot;</code> is the name of the package you would like to create deploy keys for.</p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>You may be asked to enter your password for Travis during this process. Once complete you will need to add the public key displayed in the REPL to your repository – just follow the instructions displayed in the REPL.</p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Then close the REPL and commit the <code class="asdf">docs/.documenter.enc</code> file that was generated by <a href="../lib/public.html#Documenter.Travis.genkeys"><code class="asdf">Travis.genkeys</code></a> to the repository. You can skip the <a href="hosting.html#GitHub-Security-Tokens-1">GitHub Security Tokens</a> section and move straight on to <a href="hosting.html#Travis-Environment-Settings-1">Travis Environment Settings</a> now.</p><a id="GitHub-Security-Tokens-1"></a><div class="mdnote debug">Base.Markdown.Header{3}</div><h3>GitHub Security Tokens</h3><div class="mdnote debug">Base.Markdown.Paragraph</div><p>These tokens provide push access to <em>every</em> repository owned by the user.</p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Firstly, generate a new <a href="https://github.com/settings/tokens">personal access token</a>.</p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Enter a description for this new token. We&#39;ll be calling ours &quot;Travis&quot;, but any other name will do. For the &quot;Select scopes&quot; option choose &quot;public_repo&quot; <strong>only</strong>. Then generate the token and save it somewhere safe. We&#39;ll be needing it during the next section.</p><a id="Travis-Environment-Settings-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2>Travis Environment Settings</h2><a id="SSH-Keys-1"></a><div class="mdnote debug">Base.Markdown.Header{3}</div><h3>SSH Keys</h3><div class="mdnote debug">Base.Markdown.Paragraph</div><p>If you used <a href="../lib/public.html#Documenter.Travis.genkeys"><code class="asdf">Travis.genkeys</code></a> in the previous step then you should go to your Travis settings page and check that two new keys have been added with names similar to the following</p><div class="mdnote debug">Base.Markdown.List</div><ul><li><code class="asdf">encrypted_e6b49e69746a_key</code></li><li><code class="asdf">encrypted_e6b49e69746a_iv</code></li></ul><a id="Tokens-1"></a><div class="mdnote debug">Base.Markdown.Header{3}</div><h3>Tokens</h3><div class="mdnote debug">Base.Markdown.Paragraph</div><p>If you generated a GitHub token during the previous step then we&#39;ll add the token to our repository&#39;s Travis page. Go to the settings page for the repository and under the &quot;Environment Variables&quot; section add a new variable called <code class="asdf">GITHUB_API_KEY</code>. Copy the generated key from the <a href="hosting.html#GitHub-Security-Tokens-1">GitHub Security Tokens</a> section as the value and <strong>make sure</strong> that &quot;Display value in build log&quot; is <strong>off</strong>. Be careful to remove any leading white-space from the key. Then add the key.</p><a class="travis yml-Configuration-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2><code class="asdf">.travis.yml</code> Configuration</h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>In the <code class="asdf">after_success</code> section of the <code class="asdf">.travis.yml</code> file, where code coverage is processed, run your <code class="asdf">docs/make.jl</code> file:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="language-yaml">after_success:
  - julia -e &#39;Pkg.add(&quot;Documenter&quot;)&#39;
  - julia -e &#39;cd(Pkg.dir(&quot;PACKAGE_NAME&quot;)); include(joinpath(&quot;docs&quot;, &quot;make.jl&quot;))&#39;</code></pre><a id="The-deploydocs-Function-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2>The <code class="asdf">deploydocs</code> Function</h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>At the moment your <code class="asdf">docs/make.jl</code> file probably only contains</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="language-julia"><span class="k">using</span><span> </span><span class="n">Documenter</span><span class="p">,</span><span> </span><span class="n">PACKAGE_NAME</span><span>
</span><span>
</span><span class="n">makedocs</span><span class="p">(</span><span class="p">)</span><span>
</span></code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>We&#39;ll need to add an additional call to this file after <a href="../lib/public.html#Documenter.makedocs"><code class="asdf">makedocs</code></a>. Add the following at the end of the file:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="language-julia"><span class="n">deploydocs</span><span class="p">(</span><span>
</span><span>    </span><span class="n">repo</span><span> </span><span class="o">=</span><span> </span><span class="s">&quot;</span><span class="s">github.com/USER_NAME/PACKAGE_NAME.jl.git</span><span class="s">&quot;</span><span>
</span><span class="p">)</span><span>
</span></code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>where <code class="asdf">USER_NAME</code> and <code class="asdf">PACKAGE_NAME</code> must be set to the appropriate names.</p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>By default <code class="asdf">deploydocs</code> will deploy the documentation from the <code class="asdf">nightly</code> Julia build for Linux. This can be changed using the <code class="asdf">julia</code> and <code class="asdf">osname</code> keywords as follows:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="language-julia"><span class="n">deploydocs</span><span class="p">(</span><span>
</span><span>    </span><span class="n">deps</span><span>   </span><span class="o">=</span><span> </span><span class="n">Deps</span><span class="o">.</span><span class="n">pip</span><span class="p">(</span><span class="s">&quot;</span><span class="s">mkdocs</span><span class="s">&quot;</span><span class="p">,</span><span> </span><span class="s">&quot;</span><span class="s">python-markdown-math</span><span class="s">&quot;</span><span class="p">)</span><span class="p">,</span><span>
</span><span>    </span><span class="n">repo</span><span>   </span><span class="o">=</span><span> </span><span class="s">&quot;</span><span class="s">github.com/USER_NAME/PACKAGE_NAME.jl.git</span><span class="s">&quot;</span><span class="p">,</span><span>
</span><span>    </span><span class="n">julia</span><span>  </span><span class="o">=</span><span> </span><span class="s">&quot;</span><span class="s">0.4</span><span class="s">&quot;</span><span class="p">,</span><span>
</span><span>    </span><span class="n">osname</span><span> </span><span class="o">=</span><span> </span><span class="s">&quot;</span><span class="s">osx</span><span class="s">&quot;</span><span>
</span><span class="p">)</span><span>
</span></code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>This will deploy the docs from the OSX Julia 0.4 Travis build bot.</p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>The keyword <code class="asdf">deps</code> serves to provide the required dependencies to deploy the documentation. In the example above we include the dependencies <a href="http://www.mkdocs.org">mkdocs</a> and <a href="https://github.com/mitya57/python-markdown-math"><code class="asdf">python-markdown-math</code></a>. The former makes sure that MkDocs is installed to deploy the documentation, and the latter provides the <code class="asdf">mdx_math</code> markdown extension to exploit MathJax rendering of latex equations in markdown. Other dependencies should be included here.</p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>See the <a href="../lib/public.html#Documenter.deploydocs"><code class="asdf">deploydocs</code></a> function documentation for more details.</p><a class="yml-File-1" id="The-MkDocs-mkdocs"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2>The MkDocs <code class="asdf">mkdocs.yml</code> File</h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>We&#39;ll be using <a href="http://www.mkdocs.org">MkDocs</a> to convert the markdown files generated by Documenter to HTML. (This, of course, is not the only option you have for this step. Any markdown to HTML converter should work fine with some amount of setting up.)</p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Add an <code class="asdf">mkdocs.yml</code> file to your <code class="asdf">docs/</code> directory with the following content:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="language-yaml">site_name:        PACKAGE_NAME.jl
repo_url:         https://github.com/USER_NAME/PACKAGE_NAME.jl
site_description: Description...
site_author:      USER_NAME

theme: readthedocs

extra_css:
  - assets/Documenter.css

extra_javascript:
  - https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML
  - assets/mathjaxhelper.js

markdown_extensions:
  - extra
  - tables
  - fenced_code
  - mdx_math

docs_dir: &#39;build&#39;

pages:
  - Home: index.md</code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>This is only a basic skeleton. Read through the MkDocs documentation if you would like to know more about the available settings.</p><a class="gitignore-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2><code class="asdf">.gitignore</code></h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Add the following to your package&#39;s <code class="asdf">.gitignore</code> file</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="language-none">docs/build/
docs/site/</code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>These are needed to avoid committing generated content to your repository.</p><a id="gh-pages-Branch-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2><code class="asdf">gh-pages</code> Branch</h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Create a new branch called <code class="asdf">gh-pages</code> and push it to GitHub. If this branch already exists then you can skip this step, but do note that the generated content is automatically pushed to this branch from Travis.</p><a id="Documentation-Versions-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2>Documentation Versions</h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>When documentation is generated it is stored in one of the following folders:</p><div class="mdnote debug">Base.Markdown.List</div><ul><li><code class="asdf">latest</code> stores the most recent documentation that is committed to the <code class="asdf">master</code> branch.</li></ul><div class="mdnote debug">Base.Markdown.List</div><ul><li><code class="asdf">stable</code> stores the most recent documentation from a tagged commit. Older tagged versions   are stored in directories named after their tags. These tagged directories are persistent   and must be manually removed from the <code class="asdf">gh-pages</code> branch if necessary.</li></ul><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Once your documentation has been pushed to the <code class="asdf">gh-pages</code> branch you should add links to your <code class="asdf">README.md</code> pointing to the <code class="asdf">stable</code> and <code class="asdf">latest</code> documentation URLs. It is common practice to make use of &quot;badges&quot; similar to those used for Travis and AppVeyor build statuses or code coverage. Adding the following to your package <code class="asdf">README.md</code> should be all that is necessary:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="language-markdown">[![](https://img.shields.io/badge/docs-stable-blue.svg)](https://USER_NAME.github.io/PACKAGE_NAME.jl/stable)
[![](https://img.shields.io/badge/docs-latest-blue.svg)](https://USER_NAME.github.io/PACKAGE_NAME.jl/latest)</code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p><code class="asdf">PACKAGE_NAME</code> and <code class="asdf">USER_NAME</code> should be replaced with their appropriate values. The colour and text of the image can be changed by altering <code class="asdf">docs-stable-blue</code> as described on <a href="http://shields.io">shields.io</a>, though it is recommended that package authors follow this standard to make it easier for potential users to find documentation links across multiple package README files.</p><div class="mdnote debug">Base.Markdown.HorizontalRule</div><hr/><div class="mdnote debug">Base.Markdown.Paragraph</div><p><strong>Final Remarks</strong></p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>That should be all that is needed to enable automatic documentation building. Pushing new commits to your <code class="asdf">master</code> branch should trigger doc builds. Note that other branches do not trigger these builds and neither do pull requests by potential contributors.</p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>If you would like to see a more complete example of how this process is setup then take a look at this package&#39;s repository for some inspiration.</p><footer><hr/>Footer stuff</footer></article></body></html>
